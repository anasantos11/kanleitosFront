<div ng-controller="ModalPesquisaPedidoInternacaoController" ng-init="carregarPedidos()">
    <div class="kan-row-modal">
        <fieldset class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 kan-group">
            <h5 class="kan-title">Lista de Pedidos de Internações Abertos
                <i class="fa fa-info fa-1-x kan-icon-success" data-toggle="tooltip" data-placement="bottom" title="Escolha um pedido para registrar a internação do paciente."></i>
            </h5>
            <div class="table-responsive">
                <table class="table table-bordered table-hover table-sm">
                    <thead>
                        <tr>
                            <th class="text-center">Ala</th>
                            <th class="text-center">Médico</th>
                            <th class="text-center">Residente</th>
                            <th class="text-center">Prontuário</th>
                            <th class="text-center">Paciente</th>
                            <th class="text-center">Mãe</th>
                            <th class="text-center">Data Nasc</th>
                            <th class="text-center">Idade</th>
                            <th class="text-center">Sexo</th>
                            <th class="text-center">Isolamento</th>
                            <th class="text-center">Diagnóstico</th>
                            <th class="text-center">Data Admissão</th>
                            <th class="text-center">Tempo aguardando</th>
                            <th class="text-center">Ação</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="pedido in listaPedidos">
                            <td class="text-center">{{pedido.ala.nomeAla}}</td>
                            <td class="text-center">{{pedido.medicoResponsavel}}</td>
                            <td class="text-center">{{pedido.residenteResponsavel}}</td>
                            <td class="text-center">{{pedido.paciente.numProntuario}}</td>
                            <td class="text-center">{{pedido.paciente.nomePaciente}}</td>
                            <td class="text-center">{{pedido.paciente.nomeMae}}</td>
                            <td class="text-center">{{pedido.paciente.dataNascimento | date : 'dd/MM/yy'}}</td>
                            <td class="text-center">{{pedido.paciente.idade}}</td>
                            <td class="text-center">{{pedido.paciente.genero}}</td>
                            <td title="{{pedido.isolamento.nome}}" class="text-danger">{{pedido.isolamento.nome}}</td>
                            <td title="{{pedido.diagnostico.descricaoDiagnostico}}">{{pedido.diagnostico.descricaoDiagnostico}}</td>
                            <td class="text-center">{{pedido.dataAdmissao | date: "dd/MM/yy HH:mm"}}</td>
                            <td class="text-center" title="{{pedido.tempo.dias + ' dia(s) ' + pedido.tempo.horas + 'h ' + pedido.tempo.minutos + 'min'}}">
                                {{pedido.tempo.dias + ' dia(s) ' + pedido.tempo.horas + 'h ' + pedido.tempo.minutos + 'min'}}</td>
                            <td class="text-center">
                                <button class="btn kan-btn-success kan-btn-sm" ng-click="closeThisDialog(pedido)">
                                    Escolher
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </fieldset>
    </div>
</div>